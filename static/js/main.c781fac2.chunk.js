(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{16:function(e,a,t){e.exports=t(30)},22:function(e,a,t){},23:function(e,a,t){},24:function(e,a,t){},29:function(e,a,t){},30:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(14),s=t.n(r),c=(t(22),t(23),t(3)),o=t(5);function m(e){const a=Object(c.o)();return l.a.createElement("nav",{className:"navbar navbar-expand-lg bg-body-tertiary"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement(o.b,{className:"navbar-brand",to:"/"},e.title),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link active","aria-current":"page",to:"/"},"Home")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link active","aria-current":"page",to:"/blog"},"Blog")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link active","aria-current":"page",to:"/contact"},"Contact")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{className:"nav-link active","aria-current":"page",to:"/about"},"About")),l.a.createElement("li",{className:"nav-item"},localStorage.getItem("user-info")?l.a.createElement(o.b,{className:"nav-link active","aria-current":"page",to:"/users"},"Users"):"")),l.a.createElement("form",{className:"d-flex",role:"search"},l.a.createElement("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),l.a.createElement("button",{className:"btn btn-outline-success",type:"submit"},"Search")),localStorage.getItem("user-info")?l.a.createElement("button",{className:"btn btn-outline-success mx-2",type:"submit",onClickCapture:e=>{localStorage.clear(),a("/login")}},"Logout"):l.a.createElement(o.b,{className:"btn btn-outline-success mx-2",type:"submit",to:"/login"},"Login"))))}function i(e){return l.a.createElement("h1",null,"This is My About Page")}function u(e){return l.a.createElement("h1",null,"This is My Blog Page")}function d(e){return l.a.createElement("h1",null,"This is My Home Page")}function g(e){return l.a.createElement("h1",null,"This is My Contact Page")}t(24);var E=t(31);E.a.defaults.withCredentials=!0;class b extends l.a.Component{constructor(e){super(e),this.state={items:[],DataisLoaded:!1}}componentDidMount(){E.a.get("http://127.0.0.1:8000/snaccu/getUsers/1",{headers:{Authorization:"token "+localStorage.getItem("token")}}).then(e=>e.data).then(e=>{this.setState({items:e,DataisLoaded:!0})})}render(){const{DataisLoaded:e,items:a}=this.state;return e?l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"container"},a&&a.map(e=>l.a.createElement("ol",{key:e.id},l.a.createElement("div",{className:"item"},l.a.createElement("div",null,l.a.createElement("strong",null,"User_Name: "),e.email,","),l.a.createElement("div",null,"Full_Name: ",e.first_name+" "+e.last_name,","),l.a.createElement("div",null,"User_Email: ",e.email)))))):l.a.createElement("div",null,l.a.createElement("h1",null," Pleses wait some time.... "))}}var p=localStorage.getItem("token")?b:function(e){const a=Object(c.o)();Object(n.useEffect)(()=>{localStorage.getItem("token")||a("/")})},h=t(15);t(29);const v=new h.a;var f=e=>{const a=Object(c.o)(),[t,r]=Object(n.useState)({email:"",password:""}),[s,o]=Object(n.useState)({});Object(n.useEffect)(()=>{localStorage.getItem("user-info")&&a("/")});const m=e=>{const{name:a,value:n}=e.target;r({...t,[a]:n})},i=e=>{const a={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(a.email="Email is invalid"):a.email="Email is required",e.password||(a.password="Password is required"),a};return l.a.createElement("div",{className:"form-container"},l.a.createElement("h2",{className:"form-title"},"Login Here"),l.a.createElement("form",{onSubmit:async n=>{n.preventDefault();const l=i(t);if(o(l),0===Object.keys(l).length){try{const n=await E.a.post("http://127.0.0.1:8000/snaccu/loginUser",{headers:{"X-Csrftoken":v.get("csrftoken")},...t});"Login Success"===n.data.Message?(console.log("Login Successful:",n.data),e.showAlert("Login Success","Success"),localStorage.setItem("user-info",JSON.stringify(n.data.UserInfo)),localStorage.setItem("token",n.data.UserInfo.token)):e.showAlert("Login Error","Fail"),a("/")}catch(r){e.showAlert("Login Error",r),console.error("Login Error:",r)}console.log("Form submitted successfully!")}else console.log("Form submission failed due to validation errors.")}},l.a.createElement("div",null,l.a.createElement("label",{className:"form-label"},"Email:"),l.a.createElement("input",{className:"form-input",type:"email",name:"email",value:t.email,onChange:m}),s.email&&l.a.createElement("span",{className:"error-message"},s.email)),l.a.createElement("div",null,l.a.createElement("label",{className:"form-label"},"Password:"),l.a.createElement("input",{className:"form-input",type:"password",name:"password",value:t.password,onChange:m}),s.password&&l.a.createElement("span",{className:"error-message"},s.password)),l.a.createElement("button",{className:"submit-button",type:"submit"},"Submit")))};var N=function(e){return l.a.createElement("div",{style:{height:"50px"}},e.alert&&l.a.createElement("div",{className:`alert alert-${e.alert.type} alert-dismissible fade show`,role:"alert"},l.a.createElement("strong",null,(e=>{const a=e.toLowerCase();return a.charAt(0).toUpperCase()+a.slice(1)})(e.alert.type)),": ",e.alert.msg))};var S=function(){const[e,a]=Object(n.useState)("light"),[t,r]=Object(n.useState)(null),s=(e,a)=>{r({msg:e,type:a}),setTimeout(()=>{r(null)},1500)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,null,l.a.createElement("div",null,l.a.createElement(m,{title:"SunCoder",toggleMode:()=>{"light"===e?(a("dark"),document.body.style.backgroundColor="#042743",s("Dark mode has been enabled","success")):(a("light"),document.body.style.backgroundColor="white",s("Light mode has been enabled","success"))}}),l.a.createElement(N,{alert:t}),l.a.createElement(c.c,null,l.a.createElement(c.a,{path:"/login",element:l.a.createElement(f,{showAlert:s})}),l.a.createElement(c.a,{path:"/users",element:l.a.createElement(p,null)}),l.a.createElement(c.a,{path:"/about",element:l.a.createElement(i,null)}),l.a.createElement(c.a,{path:"/contact",element:l.a.createElement(g,null)}),l.a.createElement(c.a,{path:"/blog",element:l.a.createElement(u,null)}),l.a.createElement(c.a,{path:"/",element:l.a.createElement(d,null)})))))};var y=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,32)).then(a=>{let{getCLS:t,getFID:n,getFCP:l,getLCP:r,getTTFB:s}=a;t(e),n(e),l(e),r(e),s(e)})};E.a.defaults.xsrfCookieName="csrfToken",E.a.defaults.xsrfHeaderName="X-Csrftoken",E.a.defaults.withCredentials=!0;s.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S,null))),y()}},[[16,1,2]]]);
//# sourceMappingURL=main.c781fac2.chunk.js.map